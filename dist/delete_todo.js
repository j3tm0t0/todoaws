// Generated by CoffeeScript 1.10.0
var AWS, docClient;

AWS = require('aws-sdk');

docClient = new AWS.DynamoDB.DocumentClient();

exports.handler = function(event, context) {
  var param;
  if (event.todoId) {
    param = {
      TableName: 'todos',
      Key: {
        todoId: event.todoId
      },
      ReturnValues: "ALL_OLD"
    };
  } else {
    return context.fail("todoId is not specified");
  }
  docClient["delete"](param, function(err, data) {
    console.log(err, data);
    if (err) {
      return context.fail(err);
    } else if (data.Attributes) {
      return context.succeed("");
    } else {
      return context.fail("item not found");
    }
  });
};
